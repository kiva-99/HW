# HW-19: PostgreSQL репликация через Patroni

## Цель
Настроить отказоустойчивый кластер PostgreSQL с автоматическим failover и резервным копированием.

## Компоненты
- etcd — координация (на pg1)
- Patroni — управление кластером
- PostgreSQL 16 — СУБД
- Автоматический бэкап с мастера

## Топология
- pg1: 192.168.100.101 (replica)
- pg2: 192.168.100.102 (leader)

## Файлы
- `patroni_pg1.yml`, `patroni_pg2.yml` — конфигурации Patroni
- `backup.sh` — скрипт резервного копирования
- `backup_example.sql` — пример бэкапа
- `screenshot1.png` — создание таблицы на мастере
- `screenshot2.png` — подтверждение репликации на реплике
- `screenshot3.png` — статус кластера (роли)

## Проверка
- Failover работает (ручная проверка),посредством принудительной остановки мастера
- Бэкап создаётся только с мастера
- Репликация синхронизирует данные
