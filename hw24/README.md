# HW-24: ะกะพะฑััะฒะตะฝะฝัะต ะพะฑัะฐะทั, ัะพะผะฐ ะธ ัะตัะธ ะฒ Docker

## ๐ ะฆะตะปั ะทะฐะดะฐะฝะธั
ะัะฒะพะธัั ะบะปััะตะฒัะต ะฝะฐะฒัะบะธ DevOps-ะธะฝะถะตะฝะตัะฐ:
1. ะกะฑะพัะบะฐ ัะพะฑััะฒะตะฝะฝัั Docker-ะพะฑัะฐะทะพะฒ ัะตัะตะท `Dockerfile`
2. ะะฐะฑะพัะฐ ั ัะพะผะฐะผะธ (volumes) ะดะปั ัะพััะฐะฝะตะฝะธั ะดะฐะฝะฝัั ะผะตะถะดั ะฟะตัะตัะพะทะดะฐะฝะธะตะผ ะบะพะฝัะตะนะฝะตัะพะฒ
3. ะะฐัััะพะนะบะฐ ะฟะพะปัะทะพะฒะฐัะตะปััะบะธั ัะตัะตะน ะดะปั ัะฒัะทะธ ะบะพะฝัะตะนะฝะตัะพะฒ ะฟะพ ะธะผะตะฝะธ

## ๐ง ะัะฟะพะปะฝะตะฝะฝัะต ัะฐะณะธ

### 1. ะะพะดะณะพัะพะฒะบะฐ ัะฐะฑะพัะตะน ะดะธัะตะบัะพัะธะธ
```powershell
cd D:\docker-projects\hw\hw24
mkdir screenshots -Force
```

### 2. ะกะพะทะดะฐะฝะธะต HTML-ัััะฐะฝะธัั ั ะฟะพะดะดะตัะถะบะพะน ะบะธัะธะปะปะธัั
ะคะฐะนะป `index.html` ัะพะทะดะฐะฝ ะฒ ะะปะพะบะฝะพัะต ั ะบะพะดะธัะพะฒะบะพะน **UTF-8**:
```html
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>HW-24</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 40px; background: #f5f5f5; }
        h1 { color: #2c3e50; }
        p { color: #7f8c8d; font-size: 18px; }
    </style>
</head>
<body>
    <h1>HW-24: ะกะพะฑััะฒะตะฝะฝัะน ะพะฑัะฐะท + ะขะพะผะฐ + ะกะตัะธ</h1>
    <p>ะกะพะฑัะฐะฝะพ ะธะท Dockerfile</p>
</body>
</html>
```

### 3. ะกะพะทะดะฐะฝะธะต Dockerfile
ะคะฐะนะป `Dockerfile` :
```dockerfile
# ะะฐะทะพะฒัะน ะพะฑัะฐะท
FROM nginx:alpine

# ะะตัะฐะดะฐะฝะฝัะต
LABEL maintainer="roman" \
      hw="HW-24" \
      description="Custom Nginx image with persistent volumes"

# ะะพะฟะธััะตะผ HTML-ัะฐะนะป ะฒ ะพะฑัะฐะท
COPY index.html /usr/share/nginx/html/index.html

# ะกะพะทะดะฐัะผ ะผะฐัะบะตั-ัะฐะนะป ะฟัะธ ัะฑะพัะบะต (ะดะตะผะพะฝัััะฐัะธั ัะปะพั ะพะฑัะฐะทะฐ)
RUN echo "ะญัะพั ัะฐะนะป ะกะะะะะ ะะะ ะกะะะะะ ะพะฑัะฐะทะฐ (ะฒะฝัััะธ ะพะฑัะฐะทะฐ)" > /usr/share/nginx/html/build-marker.txt

# ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั
ENV APP_ENV=production \
    APP_NAME="hw24-nginx"

# ะะพะบัะผะตะฝัะธััะตะผ ะฟะพัั
EXPOSE 80
```

### 4. ะกะฑะพัะบะฐ ัะพะฑััะฒะตะฝะฝะพะณะพ ะพะฑัะฐะทะฐ
```powershell
docker build -t hw24-nginx:latest .
```
โ ะะตะทัะปััะฐั: ะพะฑัะฐะท `hw24-nginx:latest` ั ะฒัััะพะตะฝะฝัะผ ะบะพะฝัะตะฝัะพะผ

### 5. ะกะพะทะดะฐะฝะธะต ัะพะผะฐ ะดะปั ััะฐะฝะตะฝะธั ะดะฐะฝะฝัั
```powershell
docker volume create nginx-data
```
โ ะขะพะผ ัะพััะฐะฝัะตั ะดะฐะฝะฝัะต **ะฒะฝะต ะถะธะทะฝะตะฝะฝะพะณะพ ัะธะบะปะฐ ะบะพะฝัะตะนะฝะตัะฐ**

### 6. ะกะพะทะดะฐะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปััะบะพะน ัะตัะธ
```powershell
docker network create hw24-net
```
โ ะกะตัั ัะธะฟะฐ `bridge` ั ะฟะพะดะดะตัะถะบะพะน DNS (ะบะพะฝัะตะนะฝะตัั ะพะฑัะฐัััั ะฟะพ ะธะผะตะฝะธ)

### 7. ะะฐะฟััะบ ะดะฒัั ะบะพะฝัะตะนะฝะตัะพะฒ ั ะพะฑัะธะผ ัะพะผะพะผ
```powershell
# ะะตัะฒัะน ะบะพะฝัะตะนะฝะตั
docker run -d `
  --name web1 `
  --network hw24-net `
  -v nginx-/usr/share/nginx/html `
  -p 8080:80 `
  hw24-nginx:latest

# ะัะพัะพะน ะบะพะฝัะตะนะฝะตั (ัะพั ะถะต ัะพะผ!)
docker run -d `
  --name web2 `
  --network hw24-net `
  -v nginx-/usr/share/nginx/html `
  -p 8081:80 `
  hw24-nginx:latest
```

### 8. ะะตะผะพะฝัััะฐัะธั ัะฐะฑะพัั ัะพะผะฐ
```powershell
# ะคะฐะนะป ะธะท ะพะฑัะฐะทะฐ (ัะพะทะดะฐะฝ ะฟัะธ ัะฑะพัะบะต)
docker exec web1 cat /usr/share/nginx/html/build-marker.txt

# ะกะพะทะดะฐัะผ ัะฐะนะป ะฒ ัะพะผะต (ะฟัะธ ัะฐะฑะพัะต ะบะพะฝัะตะนะฝะตัะฐ)
docker exec web1 sh -c "echo 'ะคะฐะนะป ะธะท ะขะะะ' > /usr/share/nginx/html/volume-marker.txt"

# ะะตัะตะทะฐะฟััะบะฐะตะผ ะบะพะฝัะตะนะฝะตั โ ัะฐะนะป ะธะท ัะพะผะฐ ัะพััะฐะฝัะตััั!
docker restart web1
docker exec web1 ls -la /usr/share/nginx/html/
```

### 9. ะัะพะฒะตัะบะฐ ัะตัะตะฒะพะณะพ ะฒะทะฐะธะผะพะดะตะนััะฒะธั
```powershell
# ะะธะฝะณ ะฟะพ ะธะผะตะฝะธ (ะฝะต ะฟะพ IP!)
docker exec web2 ping -c 3 web1
docker exec web1 ping -c 3 web2
```
โ ะะพะฝัะตะนะฝะตัั ะฝะฐัะพะดัั ะดััะณ ะดััะณะฐ ะฟะพ ะธะผะตะฝะธ ะฑะปะฐะณะพะดะฐัั ะฟะพะปัะทะพะฒะฐัะตะปััะบะพะน ัะตัะธ

### 10. ะะตะฝะตัะฐัะธั ััะฐัะธะบะฐ ะดะปั ะปะพะณะพะฒ
```powershell
curl -s http://localhost:8080 > $null
curl -s http://localhost:8080 > $null
docker logs --tail 8 web1
```

## ๐ฌ ะะปััะตะฒัะต ะบะพะฝัะตะฟัะธะธ ะธ ะธั ะฟัะธะผะตะฝะตะฝะธะต

### ะขะพะผะฐ (Volumes)
| ะกะฒะพะนััะฒะพ | ะะตะฐะปะธะทะฐัะธั ะฒ ะทะฐะดะฐะฝะธะธ | ะะพัะตะผั ะฒะฐะถะฝะพ |
|----------|----------------------|--------------|
| ะกะพััะฐะฝะตะฝะธะต ะดะฐะฝะฝัั | ะคะฐะนะป `volume-marker.txt` ะพััะฐัััั ะฟะพัะปะต `docker restart` | ะะฐะฝะฝัะต ะฝะต ะฟัะธะฒัะทะฐะฝั ะบ ะถะธะทะฝะตะฝะฝะพะผั ัะธะบะปั ะบะพะฝัะตะนะฝะตัะฐ |
| ะะฑัะธะน ะดะพัััะฟ | ะะดะธะฝ ัะพะผ `nginx-data` ะดะปั `web1` ะธ `web2` | ะะฐัััะฐะฑะธัะพะฒะฐะฝะธะต ะฑะตะท ะฟะพัะตัะธ ะดะฐะฝะฝัั |
| ะะทะพะปััะธั ะพั ะพะฑัะฐะทะฐ | ะคะฐะนะปั ะฒ ัะพะผะต โ ัะฐะนะปั ะฒ ะพะฑัะฐะทะต | ะะฐะทะดะตะปะตะฝะธะต ะบะพะดะฐ ะธ ะดะฐะฝะฝัั  |

### ะะพะปัะทะพะฒะฐัะตะปััะบะธะต ัะตัะธ
| ะกะฒะพะนััะฒะพ | ะะตะฐะปะธะทะฐัะธั ะฒ ะทะฐะดะฐะฝะธะธ | ะะพัะตะผั ะฒะฐะถะฝะพ |
|----------|----------------------|--------------|
| DNS | `ping web1` ัะฐะฑะพัะฐะตั ะฑะตะท ะทะฝะฐะฝะธั IP | ะฃะฟัะพัะฐะตั ะบะพะฝัะธะณััะฐัะธั ะฒ ะผะธะบัะพัะตัะฒะธัะฝัั ะฐััะธัะตะบัััะฐั |
| ะะทะพะปััะธั | ะกะตัั `hw24-net` ะพัะดะตะปะตะฝะฐ ะพั `bridge` | ะะตะทะพะฟะฐัะฝะพััั ะธ ะฟัะตะดัะบะฐะทัะตะผะพััั |
| ะะฒัะพะผะฐัะธัะตัะบะฐั ะผะฐัััััะธะทะฐัะธั | ะะพะฝัะตะนะฝะตัั ะฒ ะพะดะฝะพะน ัะตัะธ ะฒะธะดัั ะดััะณ ะดััะณะฐ | ะะต ะฝัะถะฝั ัััะฝัะต ะฟัะฐะฒะธะปะฐ ัะฐะตัะฒะพะปะฐ |

### ะกะฑะพัะบะฐ ะพะฑัะฐะทะพะฒ (Dockerfile)
| ะะฝััััะบัะธั | ะะฐะทะฝะฐัะตะฝะธะต | ะัะพะผััะปะตะฝะฝะฐั ะฟัะฐะบัะธะบะฐ |
|------------|------------|----------------------|
| `FROM` | ะะฐะทะพะฒัะน ะพะฑัะฐะท | ะัะฟะพะปัะทัะตะผ ะพัะธัะธะฐะปัะฝัะต ะพะฑัะฐะทั ะบะฐะบ ะพัะฝะพะฒั |
| `COPY` | ะะพะฑะฐะฒะปะตะฝะธะต ัะฐะนะปะพะฒ | ะกัะฐัะธัะตัะบะธะน ะบะพะฝัะตะฝั ััะฐะฝะพะฒะธััั ัะฐัััั ะพะฑัะฐะทะฐ |
| `RUN` | ะัะฟะพะปะฝะตะฝะธะต ะบะพะผะฐะฝะด ะฟัะธ ัะฑะพัะบะต | ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน, ะณะตะฝะตัะฐัะธั ะบะพะฝัะธะณะพะฒ |
| `ENV` | ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั | ะะพะฝัะธะณััะฐัะธั ะฑะตะท ะธะทะผะตะฝะตะฝะธั ะบะพะดะฐ |
| `LABEL` | ะะตัะฐะดะฐะฝะฝัะต | ะััะปะตะถะธะฒะฐะฝะธะต ะฒะตััะธะน, ะฒะปะฐะดะตะปััะตะฒ, ะปะธัะตะฝะทะธะน |

## ๐ ะััะธัะตะบัััะฐ ัะตัะตะฝะธั

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    Docker Host (Windows)                    โ
โ                                                             โ
โ  โโโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโโ                      โ
โ  โ   web1       โโโโโโบโ   web2       โ  โ ะกะตัั hw24-net     โ
โ  โ (ะฟะพัั 8080)  โ  ๐ โ (ะฟะพัั 8081)  โ  (ะพะฑัะตะฝะธะต ะฟะพ ะธะผะตะฝะธ)  โ
โ  โโโโโโโโโโโโโโโโ     โโโโโโโโโโโโโโโโ                      โ
โ        โ                      โ                            โ
โ        โโโโโโโโโโโโฌโโโโโโโโโโโโ                            โ
โ                   โผ                                        โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ                  โ
โ  โ        ะขะพะผ nginx-data (volume)       โ  โ ะะฐะฝะฝัะต        โ
โ  โ  โข volume-marker.txt (ะธะท ัะพะผะฐ)       โ    ัะพััะฐะฝััััั   โ
โ  โ  โข index.html (ะฟะตัะตะทะฐะฟะธัะฐะฝ ัะพะผะพะผ)    โ    ะผะตะถะดั         โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ    ะฟะตัะตะทะฐะฟััะบะฐะผะธ  โ
โ                                                             โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ                  โ
โ  โ      ะะฑัะฐะท hw24-nginx:latest         โ  โ ะะตะธะทะผะตะฝัะตะผัะน  โ
โ  โ  โข build-marker.txt (ะธะท RUN)         โ    ัะฐะฑะปะพะฝ        โ
โ  โ  โข index.html (ะธะท COPY)              โ                  โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ                  โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ธ ะกะบัะธะฝัะพัั
ะัะต ัะบัะธะฝัะพัั ัะพััะฐะฝะตะฝั ะฒ ะฟะฐะฟะบะต `screenshots/`:
- `01-volumes.png` โ ัะฟะธัะพะบ ัะพะผะพะฒ ะธ ะธะฝัะพัะผะฐัะธั ะพ `nginx-data`
- `02-networks.png` โ ัะฟะธัะพะบ ัะตัะตะน ะธ ะฟะฐัะฐะผะตััั `hw24-net`
- `03-containers.png` โ ัะฐะฑะพัะฐััะธะต ะบะพะฝัะตะนะฝะตัั ั ะพะฑัะฐะทะพะผ `hw24-nginx:latest`
- `04-ping-web1-web2.png` โ ะฟะธะฝะณ ะฟะพ ะธะผะตะฝะธ (ะดะพะบะฐะทะฐัะตะปัััะฒะพ ัะฐะฑะพัั ัะตัะธ)
- `05-volume-content.png` โ ัะพะดะตัะถะธะผะพะต ัะพะผะฐ (`build-marker.txt` + `volume-marker.txt`)
- `06-browser-8080.png` โ ัััะฐะฝะธัะฐ ะฝะฐ ะฟะพััั 8080
- `07-browser-8081.png` โ ัััะฐะฝะธัะฐ ะฝะฐ ะฟะพััั 8081 (ัะพั ะถะต ะบะพะฝัะตะฝั โ ะดะพะบะฐะทะฐัะตะปัััะฒะพ ะพะฑัะตะณะพ ัะพะผะฐ)
- `08-logs.png` โ ะปะพะณะธ ั HTTP-ะทะฐะฟัะพัะฐะผะธ (ะบะพะด 200)



**ะัะฟะพะปะฝะธะป:** ะะฒะฐะฝะพะฒ ะ. 
**ะะฐัะฐ:** 31.01.2026  
